###### 1.函数定义def 函数名(变量名:变量类型):返回类型 = 函数体

```
scala> def add(x:Int,y:Int):Int = x+y
add: (x: Int, y: Int)Int
scala> add(1,2)
res16: Int = 3

scala> def prints:Unit = println("hello world")
prints: Unit
scala> prints
hello world

scala> def prints() = println("hello world")
prints: ()Unit
scala> prints()//函数定义带有括号，函数调用也要有括号
hello world
scala> def add(a:Int*)={ // 可变长参数，用*表示
     | for(i <-a)
     | println(i)
     | }
add: (a: Int*)Unit

scala> add(1)
1

scala> add(1,2,3,4)
1
2
3
4

scala> def add(a:Int=1,b:Int=2) = a+b //默认参数值
add: (a: Int, b: Int)Int

scala> add()
res30: Int = 3

scala> add(3,2)
res31: Int = 5
```

###### 2.方法定义

```
scala> (x:Int,y:Int) => x+y
res36: (Int, Int) => Int =   $$Lambda$1022/0x00000008010f7040@2a4d515f  //方法返回值用res来接收

scala> res36(5,6)
res37: Int = 11
//第一种定义方法
scala> val func = (x:Int,y:Int) => x+y  //定义func变量代表函数
func: (Int, Int) => Int = $$Lambda$1025/0x00000008010f4840@7a3ff9a2

scala> func(3,4)
res38: Int = 7
//第二种定义方法
scala> val func = (_:Int) + (_:Int)
func: (Int, Int) => Int = $$Lambda$1030/0x00000008010f1040@1c850bdd

scala> func(1,4)
res39: Int = 5
//第三种定义
scala> val func:(Int,Int)=>Int = (_+_)
func: (Int, Int) => Int = $$Lambda$1031/0x0000000801100040@6d2f58d0

```

###### 3.方法和函数：

区别：

1.定义语法不同

2.方法一般定义在类，特质，或者object中

3.方法可以共享所在类，特质或者object的属性

4.方法可以调用函数，也可以存放到一个变量中，作为参数传递给其他函数或方法，也可以作为返回值联系

（1）可以把函数作为参数传递给一个方法

```
scala> def m(f:(Int,Int)=>Int) = f(5,1)
m: (f: (Int, Int) => Int)Int

scala> val f=(x:Int,y:Int)=>x+y
f: (Int, Int) => Int = $$Lambda$1074/0x000000080111d040@3135a64f

scala> m(f)
res47: Int = 6
```

（2）方法可以转换成函数

a.把一个方法作为参数传递给其他的方法或函数

b.使用方法名 _把一个方法显式得的转换成函数

```
scala> def m2(x:Int,y:Int) = x-y
m2: (x: Int, y: Int)Int

scala> m(m2) //方法作为参数传递给另一个方法
res48: Int = 4

scala> m2 _ //将方法转换成函数
res49: (Int, Int) => Int = $$Lambda$1077/0x000000080111b040@6296a4b7

scala> m(m2 _)//使用方法名 _将方法转换成函数
res50: Int = 4
```





```
scala> head.foreach(println)
"id_1","id_2","cmp_fname_c1","cmp_fname_c2","cmp_lname_c1","cmp_lname_c2","cmp_sex","cmp_bd","cmp_bm","cmp_by","cmp_plz","is_match"
39665,47651,1,?,1,?,1,1,1,1,1,TRUE
87861,87863,1,1,1,?,1,1,1,1,1,TRUE
59647,72384,1,?,1,?,1,1,1,1,1,TRUE
40802,45673,1,?,1,?,1,1,1,1,1,TRUE
19881,31376,1,?,1,?,1,1,1,1,1,TRUE
66804,73924,1,1,1,?,1,1,1,1,1,TRUE
20655,38080,1,?,1,?,1,1,1,1,1,TRUE
44343,49222,1,?,1,?,1,1,1,1,1,TRUE
34333,44059,1,?,1,?,1,1,1,1,1,TRUE
scala> head.filter(x => !isHeader(x)).foreach(println)//函数式编程
39665,47651,1,?,1,?,1,1,1,1,1,TRUE
87861,87863,1,1,1,?,1,1,1,1,1,TRUE
59647,72384,1,?,1,?,1,1,1,1,1,TRUE
.....
scala> head.filter(!isHeader(_)).foreach(println) //看看通配符_的使用
39665,47651,1,?,1,?,1,1,1,1,1,TRUE
87861,87863,1,1,1,?,1,1,1,1,1,TRUE
....
```

```
 		val dirFile = new File("./src/main/scala/com/aiguigu/bigdata/spark")

    val files = dirFile.listFiles
    for(file <- files) println(file)
    val listFiles = files.toList
    val wordsMap = scala.collection.mutable.Map[String,Int]()
    listFiles.foreach(file => Source.fromFile(file).getLines().foreach(line => line.split(" ").
      foreach(word => {
        if(wordsMap.contains(word)){
          wordsMap(word) += 1
        }
        else{
          wordsMap+=((word,1))
        }
      })

    ))
    println(wordsMap)
    for((k,v) <- wordsMap) println(k + ":" + v)
```

